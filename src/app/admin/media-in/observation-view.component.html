<div class="content-wrapper">
    <div class="content-header" style="margin-top: 57px;">
      <div class="container-fluid">
        <nav mat-tab-nav-bar >
          <a mat-tab-link *ngFor="let tabItem of tabItems" (click)="onchangetab(tabItem)"  [active]="activeLink == tabItem">
             {{(mediaDetails['media_type'] =='Hard Drive' || mediaDetails['media_type'] =='External Hard Drive')?
             tabItem:(mediaDetails['media_type'] !='Hard Drive' && mediaDetails['media_type'] !='External Hard Drive' && tabItem=='Initial Observation')?'Recovery':tabItem }} 
             </a>
        </nav><br>
      </div>
    </div>
    <section class="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-12" [innerHtml]="mediaDetails|mediaTable"></div>             
          <div class="col-12" *ngIf="allHistory !=undefined">
            <table class="table table-striped table-bordered responsive" style="background-color: #fff !important;">
              <tr>
                <th colspan="3" class="h6">{{(mediaDetails['media_type'] =='Hard Drive' || mediaDetails['media_type'] =='External Hard Drive')?'Initial Observation':'Recovery Process'}}</th>
                <th><a style="float:right"  *ngIf="mediaDetails['stage'] == 7" [routerLink]="['../edit/', mediaDetails.id]"  class="btn btn-primary btn-sm">Edit Details</a></th>
              </tr>
              <tr>
                <th width="30">S.No</th>
                <th width="200">Modify On</th>
                <th width="200">Modify By</th>
                <th>Remarks</th>
              </tr>
              <tr *ngFor="let item of allHistory['obserHis']; let i = index">
                <td>{{i+1}}</td>
                <td>{{item['added_on'] | date:'medium'}}</td>
                <td>{{item['user_name'] ==null ? item['added_by'] :
                  item['user_name'] }}</td>
                <td>{{item['remarks']}}</td>
              </tr>
            </table>
            <table class="table table-striped table-bordered responsive" style="background-color: #fff !important;" *ngIf="mediaDetails['media_type'] =='Hard Drive' || mediaDetails['media_type'] =='External Hard Drive'">
              <tr>
                <th colspan="3" class="h6">Clone Creation</th>
                <th><a style="float:right" href="javascript:void(0)" (click)="editRecovery('cloneCreation')" class="btn btn-primary btn-sm">Edit Details</a></th>
              </tr>
              <tr>
                <th width="30">S.No</th>
                <th width="200">Modify On</th>
                <th width="200">Modify By</th>
                <th>Remarks</th>
              </tr>
              <tr *ngFor="let item of allHistory['cloneCreation']; let i = index">
                <td>{{i+1}}</td>
                <td>{{item['added_on'] | date:'medium'}}</td>
                <td>{{item['user_name'] ==null ? item['added_by'] :
                  item['user_name'] }}</td>
                <td>{{item['remarks']}}</td>
              </tr>
            </table>
            <table class="table table-striped table-bordered responsive" style="background-color: #fff !important;" *ngIf="mediaDetails['media_type'] =='Hard Drive' || mediaDetails['media_type'] =='External Hard Drive'">
              <tr>
                <th colspan="3" class="h6">Job Allot Process </th>
                <th><a style="float:right" href="javascript:void(0)" (click)="allotJob()" class="btn btn-primary btn-sm">Job Allot</a></th>
              </tr>
              <tr>
                <th width="30">S.No</th>
                <th width="200">Modify On</th>
                <th width="200">Modify By</th>
                <th>Reason</th>
              </tr>
              <tr *ngFor="let item of allHistory['allotJob']; let i = index">
                <td>{{i+1}}</td>
                <td>{{item['added_on'] | date:'medium'}}</td>
                <td>{{item['user_name'] ==null ? item['added_by'] :
                  item['user_name'] }}</td>
                <td>{{item['remarks']}}</td>
              </tr>
            </table>
            <table class="table table-striped table-bordered responsive" style="background-color: #fff !important;" *ngIf="mediaDetails['media_type'] =='Hard Drive' || mediaDetails['media_type'] =='External Hard Drive'">
              <tr>
                <th colspan="3" class="h6">Transfer Clone</th>
                <th><a style="float:right" href="javascript:void(0)" (click)="branchClone()" class="btn btn-primary btn-sm">Transfer</a></th>
              </tr>
              <tr>
                <th width="30">S.No</th>
                <th width="200">Modify On</th>
                <th width="200">Modify By</th>
                <th>Reason</th>
              </tr>
              <tr *ngFor="let item of allHistory['branchClone']; let i = index">
                <td>{{i+1}}</td>
                <td>{{item['added_on'] | date:'medium'}}</td>
                <td>{{item['user_name'] ==null ? item['added_by'] :
                  item['user_name'] }}</td>
                <td>{{item['remarks']}}</td>
              </tr>
            </table>
            <table class="table table-striped table-bordered responsive" style="background-color: #fff !important;" *ngIf="mediaDetails['media_type'] =='Hard Drive' || mediaDetails['media_type'] =='External Hard Drive'">
              <tr>
                <th colspan="3" class="h6">Data Encrypted</th>
                <th><a style="float:right" href="javascript:void(0)" (click)="editRecovery('dataEncrypted')" class="btn btn-primary btn-sm">Edit Details</a></th>
              </tr>
              <tr>
                <th width="30">S.No</th>
                <th width="200">Modify On</th>
                <th width="200">Modify By</th>
                <th>Remarks</th>
              </tr>
              <tr *ngFor="let item of allHistory['dataEncrypted']; let i = index">
                <td>{{i+1}}</td>
                <td>{{item['added_on'] | date:'medium'}}</td>
                <td>{{item['user_name'] ==null ? item['added_by'] :
                  item['user_name'] }}</td>
                <td>{{item['remarks']}}</td>
              </tr>
            </table>
            <table class="table table-striped table-bordered responsive" style="background-color: #fff !important;" *ngIf="mediaDetails['media_type'] =='Hard Drive' || mediaDetails['media_type'] =='External Hard Drive'">
              <tr>
                <th colspan="3" class="h6">Client Data Recoverable</th>
                <th><a style="float:right" href="javascript:void(0)" (click)="editRecovery('recoverableData')" class="btn btn-primary btn-sm">Edit Details</a></th>
              </tr>
              <tr>
                <th width="30">S.No</th>
                <th width="200">Modify On</th>
                <th width="200">Modify By</th>
                <th>Remarks</th>
              </tr>
              <tr *ngFor="let item of allHistory['recoverableData']; let i = index">
                <td>{{i+1}}</td>
                <td>{{item['added_on'] | date:'medium'}}</td>
                <td>{{item['user_name'] ==null ? item['added_by'] :
                  item['user_name'] }}</td>
                <td>{{item['remarks']}}</td>
              </tr>
            </table>            
          </div>
         </div>  
      </div>
    </section>
  </div>