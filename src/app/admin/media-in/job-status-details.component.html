<div class="content-wrapper">
    <div class="content-header" style="margin-top: 57px;">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-xl-4 col-sm-4">
            <h1 class="m-0 text-dark">{{pageTitle}}</h1>
          </div>
        </div>
      </div>
    </div>
    <section class="content">
      <div class="container-fluid">
        <div class="row">
            <div class="col-12">
            <table class="table table-striped table-bordered responsive " style="background-color: #fff !important;">
                <tr>
                  <th>Client Name</th>
                  <th>Job Id</th>
                  <th>Media Type</th>
                </tr>
                <tr>
                  <td>{{mediaDetails['customer_name']}}</td>
                  <td>{{mediaDetails['job_id']}}</td>
                  <td>{{mediaDetails['media_type']}}</td>
                </tr>
              </table> 
              </div>
        </div>

        <form [formGroup]="jobStatus">
          <div class="row" >
            <div class="col-md-6 ">
            <div class="form-group   ">
              <label for="uname">Select Status:<sup class="text-danger">*</sup></label>
              <mat-select formControlName="status" [ngClass]="{ 'is-invalid': submitted && f['status'].errors }"
                class="form-control">
                <mat-option *ngFor="let st of statusList" [value]="st['id']">{{st['stage_name']}}
                </mat-option>
            </mat-select>
            <div *ngIf="submitted && f['status'].errors" class="invalid-feedback">
              <div *ngIf="f['status'].errors['required']">Status is required</div>
            </div>
            </div>
            <div class="form-group ">
              <label for="uname">Add Your Remarks<sup class="text-danger">*</sup></label>
              <textarea class="form-control form-control-sm" formControlName="remarks"
           [ngClass]="{ 'is-invalid': submitted && f['remarks'].errors }"></textarea>
         <div *ngIf="submitted && f['remarks'].errors" class="invalid-feedback">
           <div *ngIf="f['remarks'].errors['required']">Remarks is required</div>
         </div>
            </div>
            <button [disabled]="loading" type="buttun" class="btn btn-primary" (click)="onSubmit()">Save<span *ngIf="loading"
              class="spinner-border spinner-border-sm mr-1"></span></button>
            <button class="btn btn-default ml-2" (click)="Reset();">Reset</button>
          </div>
          
          </div>
          </form>

        <div class="row mt-4">
              <div class="col-12">
                <table class="table table-striped table-bordered responsive " style="background-color: #fff !important;">
                  <tr>
                    <th colspan="4" class="h6">Job Status Histroy</th>
       
                  </tr>
                  <tr>
                    <th width="30">S.No</th>
                    <th width="200">Modify On</th>
                    <th width="300">Status</th>
                    <th>Remarks</th>
                  </tr>
                  <tr *ngFor="let item of mediaDetails['allHistory']; let i = index">
                    <td>{{i+1}}</td>
                    <td>{{item['created_at'] | date:'medium'}}</td>
                    <td>{{item['stage_name']}}</td>
                    <td>{{item['remarks']}}</td>
                  </tr>
                </table>
              </div> 
        </div>
      </div>
    </section>
  </div>
  <style>
    /* .userDetails input{
      display: block;
      width: 100%;
      max-width: 400px;    
    }
    .form-inline .form-group.userDetails {
      flex-wrap: nowrap;
      column-gap: 20px;
      margin-right: 20px;
    } */
  </style>